<%-- 
    Document   : report-result
    Created on : Jul 12, 2025, 6:36:49 PM
    Author     : Tieu Gia Huy - CE191594
--%>

<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt"  prefix="fmt" %>
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ include file="/WEB-INF/include/header.jsp" %>

<div class="container mt-4">
    <c:set var="period" value="${period}" />

    <!-- Báo cáo Đơn hàng -->
    <c:choose>
        <c:when test="${not empty orderReports}">
            <h3>Kết quả thống kê đơn hàng</h3>
            <table class="table table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>
                            <c:choose>
                                <c:when test="${period == 'day'}">Ngày</c:when>
                                <c:when test="${period == 'month'}">Tháng</c:when>
                                <c:otherwise>Quý</c:otherwise>
                            </c:choose>
                        </th>
                        <th>Số đơn</th>
                        <th>Doanh thu</th>
                    </tr>
                </thead>
                <tbody>
                    <c:forEach var="o" items="${orderReports}">
                        <tr>
                            <td>${o.period}</td>
                            <td>${o.orders}</td>
                            <td><fmt:formatNumber value="${o.revenue}" type="currency" currencySymbol="VND"/></td>
                        </tr>
                    </c:forEach>
                </tbody>
            </table>
        </c:when>
        <c:when test="${not empty productReports}">
            <h3>Top sản phẩm bán chạy</h3>
            <table class="table table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>Product ID</th>
                        <th>Số lượng</th>
                        <th>Doanh thu</th>
                    </tr>
                </thead>
                <tbody>
                    <c:forEach var="p" items="${productReports}">
                        <tr>
                            <td>${p.productId}</td>
                            <td>${p.quantity}</td>
                            <td>
                                <fmt:formatNumber value="${p.revenue}" type="currency" currencySymbol="VND"/>
                            </td>
                        </tr>
                    </c:forEach>
                </tbody>
            </table>
        </c:when>
        <c:otherwise>
            <h3>Không có đơn hàng hoặc sản phẩm trong thời gian được chỉ định!!</h3>
            <p>⣽⡽⣽⢽⡽⣽⢽⣽⢽⣽⢽⡽⣽⢽⡽⣯⣻⡽⣽⢯⡯⡿⡽⡯⡿⣽⣫⡯⣯⡯⣯⢯⡯⣯⢯⡯⡯⣯⢯⡯⣯⢿⢽⢯⡿⡽⣯⢿⡽⡯⣯⢯⢯⢯⢯⣫⢞⡽⣪⣊
                ⣳⢯⡯⣯⢯⡯⣟⣾⡻⣞⣯⢿⢽⢽⢽⣳⣻⡺⣝⣗⢯⢏⡏⣏⢯⢞⡾⣝⣗⢿⢽⣫⡯⣯⢷⣻⢽⣳⢯⣟⡽⣯⣟⣯⢿⡽⣯⣟⡾⡯⣗⡯⡯⡯⣳⡳⣝⢮⢧⡳
                ⣽⢯⡯⣯⢯⡿⣽⣺⡽⡯⡾⡽⣝⢽⡱⣣⢳⢹⢜⢜⢎⢎⢎⢎⢎⢗⢽⣺⡺⣝⡯⣗⡯⣯⣻⣺⢽⣞⣟⡾⣽⣗⣟⡾⡯⣟⣗⡷⡯⣟⣗⡯⡯⣫⢞⢞⡎⣗⢵⢝
                ⣽⣳⣟⡽⣯⣻⣺⣵⣻⢽⢽⣹⡪⡎⡎⡎⡎⡎⢎⢪⠸⡘⡜⡜⣜⢕⡗⣗⣽⡳⡯⣳⣻⣺⣺⣪⣗⣗⡯⣯⢷⣻⣞⣯⢿⡽⡾⡽⣝⣗⢗⡽⣝⢮⡫⣇⢯⢎⣗⣝
                ⣳⣗⣯⢯⡷⣻⣺⣞⡾⣽⡳⣧⡳⣕⢕⢕⢘⢌⢊⠢⡑⡕⡕⡽⣸⢵⢯⣗⣗⡯⡯⣗⢧⡳⡵⣳⡳⣽⢽⡽⣯⢷⣻⣞⡯⡯⡯⣯⡳⡳⣝⢞⢮⢺⣚⢮⡳⣝⡮⣞
                ⢿⣺⣽⢯⢿⡽⣞⣷⣻⣳⡯⣷⢽⣪⢪⠢⡑⠔⡡⢑⠌⡎⡞⡮⣳⣽⣳⣗⣯⢯⣟⣞⣵⡫⣟⢮⣻⣺⢽⢯⡯⣯⣗⡷⡯⡯⣻⢜⢮⢫⡪⡎⡧⡳⣱⡳⣝⣗⡯⣷
                ⣿⢽⣾⣻⢯⢿⡽⣞⡷⣯⢿⢽⣳⡳⡕⡕⢅⠕⡌⡆⡇⡧⣫⡯⣷⣗⣷⣻⣺⣽⣺⣺⡺⣺⢽⢵⣳⢯⣻⢽⡽⣳⣳⢽⢝⣝⢎⢧⢳⡱⡱⣱⢱⡹⣜⢮⣳⡳⡯⣗
                ⡳⡻⡺⡺⣝⡳⡽⡽⡽⣽⢽⣻⣺⢽⢕⡧⣣⢇⡧⣳⢽⣺⣽⡽⣗⣟⣞⣗⣯⢾⣺⡵⣯⢯⣯⣟⡾⣽⣞⡯⡯⣗⢯⡳⣝⢎⢗⢝⢜⡜⣎⢮⡣⡯⣺⢽⢮⢯⢯⢷
                ⡪⡳⡹⡸⢢⢣⠳⣝⡽⣺⢽⣺⣺⢽⢝⣞⣗⣟⢾⣝⣯⢷⡯⣿⢽⡽⣞⡷⡯⣯⢷⣻⣽⣻⣞⣷⣻⣳⡳⡽⡽⡕⡯⡺⡸⡱⡱⡱⡱⡱⡱⢵⢹⢝⣵⡻⡽⡯⣯⡳
                ⣕⢕⢜⢌⢎⢆⢏⣞⢾⢽⣝⣞⢮⣏⢯⢞⣞⢾⢽⣺⢽⢯⡿⣽⢯⡿⡽⡽⣽⢵⡹⣜⢮⡳⣟⣾⡺⡮⡯⡳⣝⢮⢺⡸⡜⡜⡜⡜⡸⡘⢜⢘⢌⢣⢣⡫⡫⣏⢞⣜
                ⣺⢼⢜⢮⣺⣪⣟⡾⡯⣗⢷⢝⣵⡳⣝⢵⢽⣹⢵⣫⡯⣿⢽⡯⣟⣮⣷⣟⣯⣿⣻⣽⣗⣯⢗⢷⢯⢯⢏⡯⣺⡪⡧⣳⢹⢜⢎⢎⡢⡱⡑⢌⠢⠡⡃⡇⣏⢮⢣⡳
                ⣯⣗⣯⢷⣳⣗⣯⡿⡯⣟⡽⣝⡞⣞⢮⡳⣝⢮⣳⣳⢯⡿⣽⣻⣽⣳⢿⣞⣿⢾⡷⣟⣾⣽⢿⢕⡻⡽⣽⡺⣵⣫⢾⢵⣫⢯⣳⣣⢇⡇⡎⡎⡜⡌⡎⡎⡮⡮⣳⣝
                ⡷⣟⣾⣻⣗⣿⣳⣻⢽⢯⢾⢕⡯⣺⢵⡫⡮⣳⣳⢽⡽⣯⣟⣗⢷⣻⡿⣽⣯⣿⣻⢿⣽⡾⣟⡗⡍⣟⣮⣻⡺⡮⣯⣻⣺⢽⢾⣺⡽⣞⣽⣪⣞⣼⣺⣺⡽⣽⣗⡷
                ⣿⣻⣽⢾⣻⢾⡽⣞⡯⣯⡯⣟⢮⢯⣳⢯⢯⣞⣾⣫⣟⣷⣻⣗⢿⣽⣟⣿⢾⡷⣿⣻⡷⣿⣻⣺⢕⢳⢱⢣⢳⢹⢸⡪⣞⢯⢿⢽⣽⣻⣺⣞⡾⡾⣞⣷⣻⢷⣻⡽
                ⣿⣽⢾⣻⡽⡯⣟⣗⢿⣽⢽⡯⣿⢽⣞⣯⢷⣗⣷⣯⢿⣾⣻⠠⢳⣟⣾⣟⣯⣿⣯⣿⣻⣽⣷⡳⢠⠑⠌⡂⢕⢘⢔⢱⢱⢹⢽⢽⣺⣞⢷⢽⣻⣻⡯⣷⣻⢽⡳⡯
                ⣟⣞⢯⡳⡝⣝⢞⢾⢽⣺⢿⡽⣟⣯⣿⢾⣻⣷⣻⡾⣟⣷⢿⣯⣪⢯⣷⣿⣻⡾⣷⢿⣽⡷⣟⡾⠕⢅⢑⢐⠐⠔⢌⢢⢣⡳⡽⣽⣞⡾⣯⢿⡽⣞⣯⢗⢗⢝⢎⢏
                ⢷⢝⢕⢕⠕⡕⡝⣕⢯⢯⣟⣿⣻⣽⣾⣟⣿⣞⣯⡿⣿⣽⢿⡾⣽⡂⠫⡾⣟⣿⣻⣟⣷⢟⢑⠅⢕⢁⢂⢂⠅⢅⠕⡜⣜⡾⣽⣳⣗⣯⢯⡯⡿⡽⣺⢹⢸⢱⢱⢱
                ⢕⡏⡎⡆⡣⠪⡸⡸⣹⢽⣽⡾⣯⣷⢿⡾⣷⢿⣽⢿⣽⡾⣟⣿⢽⡃⠄⠡⠈⡁⠁⠄⠑⢈⢂⢪⢪⢢⢣⡢⡣⡕⡵⣹⡮⣿⣽⢾⣳⢯⢯⡫⡯⡫⡮⡪⡪⡪⣪⢺
                ⢷⡕⣇⢇⢎⢕⢕⡵⣫⣯⣷⢿⣻⣾⣟⣿⢯⣿⣽⣟⣷⢿⣻⣾⣻⡅⢀⠂⡁⠠⠈⠄⠡⡀⠐⢸⢪⣣⡳⣕⢗⡽⣝⣷⣟⣿⣺⡯⣯⢯⢷⡹⣪⢣⢏⡮⡳⣝⢮⢯
                ⣯⣟⣮⡳⣝⡮⣗⣯⢿⣾⣻⣟⣿⢷⣿⣽⣿⣽⣾⣯⣿⣻⣽⣞⢧⢿⡽⣿⢽⣻⡻⣻⣻⢽⢿⢽⢮⢎⣞⡮⣗⡿⣽⡾⣷⣻⣷⣻⡽⡯⣗⡽⣪⣳⣝⡾⣽⣺⣟⣯
                ⣿⣳⣯⡿⣵⣯⢷⣻⣯⣷⡿⣯⡿⣯⣷⡿⣾⢷⡿⡾⣗⢯⣳⡳⣻⣕⢯⡻⣝⢗⣟⡽⣺⢯⣝⡭⡮⣗⠧⡽⡌⣟⠳⡿⣯⡿⣾⣯⢿⣯⣷⣻⣽⢾⣞⣯⣷⣿⣽⢷
                ⣷⢿⡷⣿⢿⡾⣿⣻⣽⣾⢿⣯⡿⣟⣷⡿⣟⣻⢹⡺⣪⡳⣕⡏⡬⠪⣱⠩⡩⡍⡎⠖⢸⠰⡳⢰⠊⡎⡍⢕⢗⣇⡯⣞⢜⢍⣛⠾⣻⡷⣯⡿⣾⣻⣯⡿⣷⢿⡾⣟
                ⣟⣿⣻⣟⣿⣻⣯⣿⣻⣾⣟⣷⡿⡿⡙⢽⡸⡮⣳⢭⢧⣻⡪⡆⢦⢑⡸⣑⢸⢕⡂⡯⡸⡌⡫⡨⢥⢅⡊⣪⢣⢧⢫⢎⢎⢗⢵⢡⠍⠻⣳⢿⣽⣻⡾⣟⣿⣻⣿⣻
                ⣯⣿⣯⣿⣽⣯⣷⣿⣽⡾⣯⢷⡋⣜⢜⢎⢮⢝⡜⡮⣺⢲⡱⡕⣇⢗⢧⢳⡫⣣⢏⢏⢮⡫⡪⡝⡜⡜⡜⣜⢺⢸⢱⢱⢝⢜⢎⢖⢥⢅⡜⡽⡾⣯⡿⣟⣯⣿⡾⣯
                ⣯⣷⡿⣾⢷⣟⣷⡿⣾⣻⢋⢔⠽⣜⢮⡣⡳⣓⢝⢕⢕⢕⢕⢕⢕⣕⢗⠓⠙⠘⠈⠉⠑⠙⢮⡳⡽⡼⡕⣕⢵⢹⢸⢸⢸⢸⢪⢞⣕⢵⡱⠩⠉⢿⣽⣿⣻⡷⣿⣟
                ⣟⣷⡿⣿⣻⣯⣿⣻⡽⣱⢵⣫⢟⡼⣵⡹⣝⢮⢺⠼⡸⣚⢜⣭⡳⡵⡯⡤⡤⣤⣤⢤⢤⠀⠀⢹⣺⣳⡫⣞⢞⡮⣳⢵⢯⣗⣗⡷⣝⡵⡝⣝⢵⢌⢺⣯⣷⡿⣿⣽
                ⣯⣿⣻⡿⣽⡷⣿⢹⣳⣳⢽⡾⣕⣟⣮⢟⣞⢗⣳⣹⣸⡪⡧⡷⣝⣯⣻⣽⣫⣯⣫⣏⢯⡃⠀⢘⡾⡮⣯⢾⡽⣯⢿⣽⣷⡳⣯⣫⢞⣼⢹⢼⢪⣣⢥⠹⡷⣿⢿⡾
                ⢿⡾⣯⣿⣟⠏⡥⡋⠷⡯⣗⡯⣿⢾⡾⣟⣯⢿⢮⡮⣶⣻⣞⣯⣿⣞⡷⡵⡧⡷⡧⣷⡻⠀⠀⣜⢷⣻⣺⡳⡿⣽⣻⣞⣷⣟⣗⡯⣟⡾⣝⡾⡻⣚⣮⡭⡬⢿⣟⣿
                ⣟⣿⣯⡷⠁⠂⡀⠉⢠⠉⠯⣿⣽⣟⣿⣻⣟⣿⢯⣟⣯⣷⢿⣽⢾⢾⣺⣫⣟⢗⣟⣷⠃⠀⢰⡽⣯⣳⡽⣝⣿⢽⣞⣷⣻⣽⣯⢟⢿⣻⣽⢾⣫⣟⢖⣟⣚⣆⢻⣽
                ⡿⡷⡯⣐⠁⡁⣠⡐⢁⢄⡵⣟⣷⢿⢽⢾⢽⢽⡿⣽⢷⢿⣽⢾⣻⣫⣾⢽⣪⡿⣟⡎⠀⢀⡯⡿⡺⣞⡾⣽⡾⣯⣯⣯⡿⣷⢏⢗⢽⢽⢷⣻⢷⢯⡯⣗⣗⣞⣒⡱
                ⣿⢯⣟⣟⣗⣮⡊⢄⠕⣕⣽⣻⣺⢽⢽⢽⢽⢵⢿⣻⣻⣯⣯⡿⣽⢾⠾⣷⢟⣿⡛⠀⠀⣼⣻⣛⣯⣗⣿⣻⣽⢷⢿⡾⣟⣟⢮⢯⣳⣫⢟⢿⣻⡽⣯⣳⣯⣮⡷⣕
                ⣳⡿⣾⣽⣯⣿⣽⣦⣽⢽⣺⣺⡺⡽⣝⡽⣺⢵⡻⣿⣽⣾⢾⣻⣾⣻⣻⣯⣿⣽⠁⠀⣰⢯⢷⡽⣮⣯⣯⣯⣿⣽⢿⣻⡿⣝⡵⡯⣺⡪⣯⡫⣗⣿⣯⢷⣷⢿⣽⡿
                ⢿⣻⡿⣾⢷⣿⣽⣟⣾⣻⣺⢮⢯⣻⢮⡯⣗⣟⣞⡿⣾⣻⣻⣽⣷⣻⣽⢾⣾⠃⠀⢠⣻⣽⣻⣽⢷⢷⡷⣿⢾⣯⡿⣟⣯⡳⣝⡮⣗⢯⣞⢮⢷⡿⣾⣟⣯⣿⢷⣿
                ⣿⣟⣿⣻⣟⣷⣿⣽⢷⣟⣾⣻⡯⣿⢽⣞⣿⣺⣳⣟⣿⢯⣿⢷⡿⣽⣻⣿⣽⣤⣤⣯⢿⡾⣯⣯⣿⣻⣿⣽⢿⡷⣿⣟⢷⣝⢷⢽⣝⡷⡽⣽⣻⣟⣯⣿⣯⣿⣻⡵
                ⣿⣽⣯⡿⣯⣿⢾⣻⣟⣯⣿⣳⡿⣯⢿⣳⣟⣾⣳⢯⣿⣻⣽⣯⣿⣟⣿⢾⣳⣷⣷⢿⣻⣟⡷⣷⢷⡿⣾⢾⢿⣟⣯⣿⢵⢯⣻⡽⡾⣽⢽⣿⣽⢿⣽⡷⣿⣞⣗⡯
                ⣿⢷⣟⣿⣻⣽⡿⣟⣯⣿⣽⡷⣿⣻⣯⢿⣺⣳⢯⡿⣽⣯⣷⡿⣷⢿⣽⡿⣯⣷⣯⣿⣽⣾⣟⣿⣻⣟⣿⣻⣟⣯⣿⡾⡽⣽⣺⢽⢯⣻⣯⣷⡿⣟⣯⣿⡟⣞⢞⣞
                ⣽⣿⣻⣽⣿⣽⢿⣟⣿⣽⣷⢿⣯⡷⣟⣯⡿⡽⡯⣟⣿⢽⡷⣿⣟⣿⣯⡿⣟⣷⡿⣾⣻⣾⣯⡿⣯⣿⣯⣿⣻⣽⣷⡿⣝⣞⢾⢽⢽⣯⣿⢾⡿⣟⣿⢗⣽⡺⣝⣞
                ⣿⡾⣿⣽⣾⣟⣿⣯⡿⣷⢿⣻⣯⣿⣻⢷⣻⣟⡿⠝⣢⣾⢿⣯⡿⣾⢷⡿⣿⢯⣿⣟⣯⣷⣿⣻⣯⣷⢿⣎⢙⠻⠾⢯⡺⡮⣯⣟⣯⣷⡿⣟⣿⣟⡯⡯⣺⣺⢵⣳
                ⣾⢿⣯⣷⣿⣽⡷⣟⣿⣻⣿⣻⣽⣯⡿⠉⠍⠂⣔⣾⣽⣟⣯⣷⡿⣟⣿⣻⣟⣿⢷⡿⣯⣷⣿⣽⣾⣻⣯⣟⣿⢶⣦⡀⡿⣾⣯⣿⣽⣯⣿⢿⡯⣗⡯⣯⣳⢽⢽⣺
                ⣿⣻⣽⣾⡷⣟⣿⣻⣯⣿⣽⢿⣽⢷⣡⣎⣴⣟⣷⡿⣾⢯⣿⣳⣿⣟⣯⣿⣽⡾⣟⣿⢯⣷⢿⣞⣯⡿⣾⣻⣾⢿⣽⢿⡾⣿⢾⡷⣟⣷⡿⡯⡯⣗⣟⣞⢾⢽⣫⡷
                ⣿⣽⣯⣷⣿⢿⣯⣿⢾⡷⣿⣻⣽⣟⣯⣿⣽⣯⣿⣻⣽⡿⣽⣟⣾⣯⢿⣞⣷⢿⣻⣽⣿⡽⣿⡽⣷⢿⣻⣽⣾⡿⣟⣿⣟⣿⣻⡿⣟⣯⢯⡯⣯⢷⣳⢯⢿⢽⣳⣟
                ⣽⡾⣿⢾⣻⣟⣷⣿⣻⣟⣯⡿⣷⣻⡷⣿⢾⣻⣾⣻⡷⣿⢯⡿⣾⣽⢿⣽⣟⣿⣻⣽⣾⣻⣯⣿⣻⣿⣻⣯⣷⣿⢿⣯⣷⡿⣯⢿⣻⡾⣯⡯⣯⣟⣞⡯⡿⣝⣗⡿
                ⣟⣿⣻⣟⣯⣿⣳⢿⣽⣯⣿⣻⣯⣿⣻⣟⣿⣻⣽⡷⣿⣻⣟⣿⣻⣾⢿⣻⣾⣻⣽⢿⣾⣻⡷⣿⣽⣾⢿⣽⡷⣿⣟⣿⢾⣻⣟⡿⣯⣿⣳⣟⣷⣻⣺⢽⢯⣟⢾⡽
                ⣿⣯⣿⡽⣗⣿⣺⣻⣞⣷⢿⣽⣾⣯⣿⣽⢿⣽⡷⣿⣻⣽⢿⡾⣿⢾⡿⣿⣽⣯⣿⣻⣽⣯⡿⣟⣾⣟⣿⣽⣟⣯⣿⣽⢿⣯⢿⣽⣟⣾⣽⢾⣳⣻⣺⢽⣫⣞⡯⣯
                ⣷⡿⣾⢽⣳⡳⣳⣳⣻⢾⣻⡿⣾⢷⡿⣾⡿⣯⣿⣟⣿⣽⣿⣻⣟⣿⣟⣯⣷⣿⣽⢿⣽⣾⢿⣟⣯⣿⣽⣾⣟⣯⣷⣿⣻⣽⣟⣷⣟⣷⣟⣯⣟⡾⡵⡯⣗⡷⡯⣗</p>
            </c:otherwise>
        </c:choose>

</div>

<%@ include file="/WEB-INF/include/footer.jsp" %>




